docker compose up -d
docker exec -it my-collections-data bash
alias ll='ls -l' >> /etc/profile
aws configure
[enter info]

cd /opt
curl -L https://github.com/marklogic/flux/releases/download/1.4.0/marklogic-flux-1.4.0.zip > marklogic-flux-1.4.0.zip
unzip marklogic-flux-1.4.0.zip
export FLUX_HOME=/opt/marklogic-flux-1.4.0

Based on the operation, swap out [verb] for:
  backup
  restore
  delete

cd /host/code/[verb]
dos2unix *

Configure [verb]-options.txt
You will need a MarkLogic user that has the "%%mlAppName%%-my-collections-data-updater" (preferred) or admin role.

sh [verb]-my-collections-data.sh [verb]-options.txt

Validation:
  backup: If all went well, you can download the newly created zip, uncompress, and check the contents.
  restore: Between backup and restore, change a My Collection document in the database; after restore, see if the edit is gone.
  delete: Check in query console to see if the prod or nonProd files were deleted (but not both for a single run).

exit
docker compose down
